Вам дано описание наследования классов в следующем формате.
<имя класса 1> : <имя класса 2> <имя класса 3> ... <имя класса k>
Это означает, что класс 1 отнаследован от класса 2, класса 3, и т. д.


command_list = []
requests_list = []

n = int(input())
for i in range(n):
    command_list.append(input().split())

    
q = int(input())
for i in range(q):
    requests_list.append(input().split())
    
graph = dict()

for i in command_list:
    if len(i) != 1:
        graph[i[0]] = [k for k in i[-1:0:-1]]
        graph[i[0]].remove(':')
    else:
        graph[i[0]] = []

for i in graph:
    for j in graph[i]:
        if j in graph: #and j not in graph[i]:
            graph[i].extend(graph[j])
        
for i in requests_list:
    if i[0] in graph[i[1]]:
        print('Yes')
    elif i[0] == i[1]:
        print('Yes')
    else:
        print('No')
